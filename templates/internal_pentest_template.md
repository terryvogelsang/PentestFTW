# 2021-01 - myInternal Pentest Notes

## Scope

### Generate IP list from IP range
```shell
prips mySubnetRange
```

## Operations Checklist
### 1. Enumerate interesting assets in the infrastructure

#### Domain Controllers

##### Command(s)

```shell
sudo masscan -iL myIPListFile -p88,636, --rate 100 -oG scans/internal_lan/masscan/internal_lan_dc_discovery_masscan.scan -v -e myNetworkInterface --router-ip myGatewayIP
```

```shell
sudo masscan -iL myIPListFile -p139,389,636,9389,3268,3269 --rate 100 -oG 10.0.0.0-8_dc_discovery_masscan.scan -v -e myNetworkInterface --router-ip myGatewayIP
```

```shell
dig @yourDomainControllerIP yourDomain.local
```

##### Value(s)
TODO: Add IP from the Domain Controllers servers  

#### Windows Exchange Server

##### Command(s)
```shell
sudo masscan 10.0.0.0/8 -p587 --rate 10000 -oG 10.0.0.0-8_exchange_discovery_masscan.scan -v -e myNetworkInterface --router-ip myRouterIP
```

##### Value(s)
TODO: Add IP from the exchange servers  

#### Launch Gowitness to get screenshots of web portal
```shell
gowitness file -f myScopeFile -P ./scans/gowitness
```